## 쿠키, 세션, 토큰

### Auth(인증)을 통해 서비스는 유저를 검증하는데, 그에 필요한 것들이다.

### ✨ 쿠키

- 서버가 브라우저에 데이터를 넣을 때 이용하는 것이다.

    - 사용자를 **기억**하게 해준다.
        - 사용자가 사이트에 방문하면 → 브라우저는 서버에 페이지의 정보에 대한 데이터를 요청하고 → 서버는 데이터를 넘겨주며 응답함
        - 응답받은 데이터 안에 쿠키가 포함되는 것이다.
        
- 사용자는 **브라우저에 쿠키를 저장**한 후, 해당 웹 사이트에 **방문할 때마다 그에 맞는 쿠키를 요청과 함께 보내는데**, 쿠키에는 인증•언어 설정과 같은 여러 가지 정보들이 담겨있기 때문에 **다시 방문했을 때 서버가 사용자에게 맞춤 정보를 제공**할 수 있도록 해준다.

- 도메인에 따라 제한된다.
    - 예시: 유튜브에게 받은 쿠키는 유튜브에게만 줄 수 있음
    
- **유효 기간**이 있다.
    - 서버가 정한 기간에 따라 유효하다.
    
- iOS, AOS와 같은 **Native App에는 존재하지 않는다.**

- 공간에 제약이 있다.

### ✨ HTTP → 웹 사이트를 이용할 때 쓰는 stateless 프로토콜

### ✨ Stateless

- 서버로 가는 **모든 요청이 이전의 request와 독립적으로 다뤄진다**는 의미이다.

- **요청 사이의 연결(메모리)이 없다.**

- 요청이 끝난 후에는 서버에 정보가 사라지기 때문에, **매 요청마다 다시 알려줘야 한다.**

### ✨ Session

- **HTTP에서 정보를 다시 알려주는 데 사용**된다.

- **별도의 ID**를 가진다.

- 예시

    - 유저명 + 비밀번호를 서버에 전송 → 올바른 정보라면, 서버는 Session의 DB에 유저에 대한 정보를 생성 → 쿠키를 통해 세션의 ID가 브라우저로 돌아오고 저장됨
    
- **서버는 쿠키를 보고 Session의 ID를 확인**한다.
    - 쿠키 = Session ID를 전달하기 위한 매개체!
    
- 유저가 가지고 있는 것은 Session ID이며, **모든 정보는 서버에 존재**한다.

### ✨ Token

- 서버로 보내는 `String`이다.

- **iOS, AOS에서의 쿠키**

    - 토큰 역시 요청할 때마다 보내줘야 한다.
    - 클라이언트에서 서버로 토큰을 보내면 → 서버는 Session DB에서 해당 토큰과 일치하는 유저를 찾아 정보를 생성하고 → 다시 토큰을 돌려준다.
